MoonSharp.Interpreter.SyntaxErrorException: unexpected symbol near 'if'
  at MoonSharp.Interpreter.Tree.NodeBase.UnexpectedTokenType (MoonSharp.Interpreter.Tree.Token t) [0x00001] in E:\TileGame\tile turn based game\Assets\Plugins\MoonSharp\Interpreter\Tree\NodeBase.cs:22 
  at MoonSharp.Interpreter.Tree.NodeBase.CheckTokenType (MoonSharp.Interpreter.Execution.ScriptLoadingContext lcontext, MoonSharp.Interpreter.Tree.TokenType tokenType) [0x0001d] in E:\TileGame\tile turn based game\Assets\Plugins\MoonSharp\Interpreter\Tree\NodeBase.cs:32 
  at MoonSharp.Interpreter.Tree.Statements.ForEachLoopStatement..ctor (MoonSharp.Interpreter.Execution.ScriptLoadingContext lcontext, MoonSharp.Interpreter.Tree.Token firstNameToken, MoonSharp.Interpreter.Tree.Token forToken) [0x000f9] in E:\TileGame\tile turn based game\Assets\Plugins\MoonSharp\Interpreter\Tree\Statements\ForEachLoopStatement.cs:50 
  at MoonSharp.Interpreter.Tree.Statement.DispatchForLoopStatement (MoonSharp.Interpreter.Execution.ScriptLoadingContext lcontext) [0x00035] in E:\TileGame\tile turn based game\Assets\Plugins\MoonSharp\Interpreter\Tree\Statement.cs:79 
  at MoonSharp.Interpreter.Tree.Statement.CreateStatement (MoonSharp.Interpreter.Execution.ScriptLoadingContext lcontext, System.Boolean& forceLast) [0x000dd] in E:\TileGame\tile turn based game\Assets\Plugins\MoonSharp\Interpreter\Tree\Statement.cs:36 
  at MoonSharp.Interpreter.Tree.Statements.CompositeStatement..ctor (MoonSharp.Interpreter.Execution.ScriptLoadingContext lcontext) [0x0002f] in E:\TileGame\tile turn based game\Assets\Plugins\MoonSharp\Interpreter\Tree\Statements\CompositeStatement.cs:22 
  at MoonSharp.Interpreter.Tree.Statements.IfStatement.CreateIfBlock (MoonSharp.Interpreter.Execution.ScriptLoadingContext lcontext) [0x0003e] in E:\TileGame\tile turn based game\Assets\Plugins\MoonSharp\Interpreter\Tree\Statements\IfStatement.cs:50 
  at MoonSharp.Interpreter.Tree.Statements.IfStatement..ctor (MoonSharp.Interpreter.Execution.ScriptLoadingContext lcontext) [0x0001e] in E:\TileGame\tile turn based game\Assets\Plugins\MoonSharp\Interpreter\Tree\Statements\IfStatement.cs:28 
  at MoonSharp.Interpreter.Tree.Statement.CreateStatement (MoonSharp.Interpreter.Execution.ScriptLoadingContext lcontext, System.Boolean& forceLast) [0x000b9] in E:\TileGame\tile turn based game\Assets\Plugins\MoonSharp\Interpreter\Tree\Statement.cs:30 
  at MoonSharp.Interpreter.Tree.Statements.CompositeStatement..ctor (MoonSharp.Interpreter.Execution.ScriptLoadingContext lcontext) [0x0002f] in E:\TileGame\tile turn based game\Assets\Plugins\MoonSharp\Interpreter\Tree\Statements\CompositeStatement.cs:22 
  at MoonSharp.Interpreter.Tree.Expressions.FunctionDefinitionExpression.CreateBody (MoonSharp.Interpreter.Execution.ScriptLoadingContext lcontext) [0x00001] in E:\TileGame\tile turn based game\Assets\Plugins\MoonSharp\Interpreter\Tree\Expressions\FunctionDefinitionExpression.cs:89 
  at MoonSharp.Interpreter.Tree.Expressions.FunctionDefinitionExpression..ctor (MoonSharp.Interpreter.Execution.ScriptLoadingContext lcontext, System.Boolean pushSelfParam, System.Boolean usesGlobalEnv, System.Boolean isLambda) [0x000e1] in E:\TileGame\tile turn based game\Assets\Plugins\MoonSharp\Interpreter\Tree\Expressions\FunctionDefinitionExpression.cs:66 
  at MoonSharp.Interpreter.Tree.Expressions.FunctionDefinitionExpression..ctor (MoonSharp.Interpreter.Execution.ScriptLoadingContext lcontext, System.Boolean pushSelfParam, System.Boolean isLambda) [0x00000] in E:\TileGame\tile turn based game\Assets\Plugins\MoonSharp\Interpreter\Tree\Expressions\FunctionDefinitionExpression.cs:31 
  at MoonSharp.Interpreter.Tree.Statements.FunctionDefinitionStatement..ctor (MoonSharp.Interpreter.Execution.ScriptLoadingContext lcontext, System.Boolean local, MoonSharp.Interpreter.Tree.Token localToken) [0x00227] in E:\TileGame\tile turn based game\Assets\Plugins\MoonSharp\Interpreter\Tree\Statements\FunctionDefinitionStatement.cs:86 
  at MoonSharp.Interpreter.Tree.Statement.CreateStatement (MoonSharp.Interpreter.Execution.ScriptLoadingContext lcontext, System.Boolean& forceLast) [0x000f5] in E:\TileGame\tile turn based game\Assets\Plugins\MoonSharp\Interpreter\Tree\Statement.cs:40 
  at MoonSharp.Interpreter.Tree.Statements.CompositeStatement..ctor (MoonSharp.Interpreter.Execution.ScriptLoadingContext lcontext) [0x0002f] in E:\TileGame\tile turn based game\Assets\Plugins\MoonSharp\Interpreter\Tree\Statements\CompositeStatement.cs:22 
  at MoonSharp.Interpreter.Tree.Statements.ChunkStatement..ctor (MoonSharp.Interpreter.Execution.ScriptLoadingContext lcontext) [0x00043] in E:\TileGame\tile turn based game\Assets\Plugins\MoonSharp\Interpreter\Tree\Statements\ChunkStatement.cs:20 
  at MoonSharp.Interpreter.Tree.Fast_Interface.Loader_Fast.LoadChunk (MoonSharp.Interpreter.Script script, MoonSharp.Interpreter.Debugging.SourceCode source, MoonSharp.Interpreter.Execution.VM.ByteCode bytecode) [0x000ba] in E:\TileGame\tile turn based game\Assets\Plugins\MoonSharp\Interpreter\Tree\Fast_Interface\Loader_Fast.cs:75 
  at MoonSharp.Interpreter.Script.LoadString (System.String code, MoonSharp.Interpreter.Table globalTable, System.String codeFriendlyName) [0x000ae] in E:\TileGame\tile turn based game\Assets\Plugins\MoonSharp\Interpreter\Script.cs:182 
  at MoonSharp.Interpreter.Script.DoString (System.String code, MoonSharp.Interpreter.Table globalContext, System.String codeFriendlyName) [0x00001] in E:\TileGame\tile turn based game\Assets\Plugins\MoonSharp\Interpreter\Script.cs:330 
  at TileGame.LuaMethods.CastLuaSpell (System.String spell, System.String scene, UnityEngine.GameObject target, UnityEngine.GameObject caster) [0x00011] in E:\TileGame\tile turn based game\Assets\scripts\LuaMethods.cs:136 
  at TileGame.GameControllerScript.RayCastForPlayScene () [0x00c88] in E:\TileGame\tile turn based game\Assets\scripts\GameControllerScript.cs:913 
